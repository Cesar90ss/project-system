Run a producer/consumer program with semaphores
